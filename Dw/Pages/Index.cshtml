@page
@model IndexModel
@{
    ViewData["Title"] = "Home/Portfolio";
    ViewData["Description"] = "Dogwood Photography is a wedding photography studio located in Durham, NC and provides photography for Raleigh, Durham, Cary, Chapel Hill, and surrounding Triangle Areas";
    ViewData["URL"] = "https://" + @Request.Host + @Request.Path;
}


<header class="fullscreen-header">
    @Html.Partial("_MainNavigation")


    <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
        <!-- Indicators -->
        <ol class="carousel-indicators">
            <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
            <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
            <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
            <li data-target="#carouselExampleIndicators" data-slide-to="3"></li>
            <li data-target="#carouselExampleIndicators" data-slide-to="4"></li>
            <li data-target="#carouselExampleIndicators" data-slide-to="5"></li>
        </ol>

        <!-- Wrapper for slides -->
        <div class="carousel-inner">
            <div class="carousel-item">
                <img class="d-block w-100" src="~/images/raleigh-durham-wedding-photography-header-1.jpg" data-color="lightblue" alt="Durham Wedding Photography">
            </div>
            <div class="carousel-item">
                <img class="d-block w-100" src="~/images/raleigh-durham-wedding-photography-header-2.jpg" data-color="lightblue" alt="Raleigh Wedding Photography">
            </div>
            <div class="carousel-item">
                <img class="d-block w-100" src="~/images/raleigh-durham-wedding-photography-header-3.jpg" data-color="lightblue" alt="Durham Wedding Photographer">
            </div>
            <div class="carousel-item">
                <img class="d-block w-100" src="~/images/raleigh-durham-wedding-photography-header-4.jpg" data-color="lightblue" alt="Raleigh Wedding Photographer">
            </div>
            <div class="carousel-item">
                <img class="d-block w-100" src="~/images/raleigh-durham-wedding-photography-header-5.jpg" data-color="lightblue" alt="Raleigh-Durham Wedding Photography">
            </div>
            <div class="carousel-item">
                <img class="d-block w-100" src="~/images/raleigh-durham-wedding-photography-header-6.jpg" data-color="lightblue" alt="Raleigh-Durham Wedding Photographer">
            </div>


        </div>
        <!-- Controls -->
        <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="sr-only">Previous</span>
        </a>
        <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="sr-only">Next</span>
        </a>

        <div class="carousel-caption d-md-block">
            <button id="mainbtn" class="btn btn-lg btn-blue-grey">Enter</button>
        </div>


    </div>


</header>


<!-- Main Layout -->
<main id="main-content">
    <div class="container-fluid mt-5 pt-5">


        
        <section id="aboutblurb" class="section-content container-fluid p-5 p-md-1 mt-5 mt-md-2">

            <h2 class="mb-2 mb-md-1 dw-font text-center">Dogwood</h2>     
            <h5 class="dw-font-alt text-muted my-4 text-center">Wedding Photography  <i class="fa fa-camera-retro"></i>  Durham, NC</h5>
            <p class="text-center font-italic">Capturing Epic Love Stories since 2009</p>


       </section>


        <section id="portfolio" class="section container-fluid p-0 m-0">
            <div class="sectionHeader text-center pt-5 pt-md-2">
                <h2 class="pb-5 pb-md-2">Our Portfolio</h2>
            </div>

            <div class="container-fluid">
                <div class="grid are-images-unloaded">
                    <div class="grid-sizer col-12 col-sm-6 col-md-4"></div>

                    <div class="grid-item col-12 col-sm-6 col-md-4">
                        <div class="grid-item-content pb-4">
                            <img class='modalClick' src='/images/portfolio/raleigh-durham-wedding-photography-top-1.jpg' alt='Durham Wedding Photography' />
                        </div>
                    </div>

                    <div class="grid-item col-12 col-sm-6 col-md-4">
                        <div class="grid-item-content pb-4">
                            <img class='modalClick' src='/images/portfolio/raleigh-durham-wedding-photography-top-2.jpg' alt='Durham Wedding Photography' />
                        </div>
                    </div>

                    <div class="grid-item col-12 col-sm-6 col-md-4">
                        <div class="grid-item-content pb-4">
                            <img class='modalClick' src='/images/portfolio/raleigh-durham-wedding-photography-top-3.jpg' alt='Durham Wedding Photography' />
                        </div>
                    </div>

                    <div class="grid-item col-12 col-sm-6 col-md-4">
                        <div class="grid-item-content pb-4">
                            <img class='modalClick' src='/images/portfolio/raleigh-durham-wedding-photography-top-4.jpg' alt='Durham Wedding Photography' />
                        </div>
                    </div>

                    <div class="grid-item col-12 col-sm-6 col-md-4">
                        <div class="grid-item-content pb-4">
                            <img class='modalClick' src='/images/portfolio/raleigh-durham-wedding-photography-top-5.jpg' alt='Durham Wedding Photography' />
                        </div>
                    </div>

                    <div class="grid-item col-12 col-sm-6 col-md-4">
                        <div class="grid-item-content pb-4">
                            <img class='modalClick' src='/images/portfolio/raleigh-durham-wedding-photography-top-6.jpg' alt='Durham Wedding Photography' />
                        </div>
                    </div>

                    <div class="grid-item col-12 col-sm-6 col-md-4">
                        <div class="grid-item-content pb-4">
                            <img class='modalClick' src='/images/portfolio/raleigh-durham-wedding-photography-top-7.jpg' alt='Durham Wedding Photography' />
                        </div>
                    </div>

                    <div class="grid-item col-12 col-sm-6 col-md-4">
                        <div class="grid-item-content pb-4">
                            <img class='modalClick' src='/images/portfolio/raleigh-durham-wedding-photography-top-8.jpg' alt='Durham Wedding Photography' />
                        </div>
                    </div>

                    <div class="grid-item col-12 col-sm-6 col-md-4">
                        <div class="grid-item-content pb-4">
                            <img class='modalClick' src='/images/portfolio/raleigh-durham-wedding-photography-top-9.jpg' alt='Durham Wedding Photography' />
                        </div>
                    </div>

                    <div class="grid-item col-12 col-sm-6 col-md-4">
                        <div class="grid-item-content pb-4">
                            <img class='modalClick' src='/images/portfolio/raleigh-durham-wedding-photography-top-10.jpg' alt='Durham Wedding Photography' />
                        </div>
                    </div>

                    <div class="grid-item col-12 col-sm-6 col-md-4">
                        <div class="grid-item-content pb-4">
                            <img class='modalClick' src='/images/portfolio/raleigh-durham-wedding-photography-top-11.jpg' alt='Durham Wedding Photography' />
                        </div>
                    </div>

                    <div class="grid-item col-12 col-sm-6 col-md-4">
                        <div class="grid-item-content pb-4">
                            <img class='modalClick' src='/images/portfolio/raleigh-durham-wedding-photography-top-12.jpg' alt='Durham Wedding Photography' />
                        </div>
                    </div>

                </div>

                <div class="page-load-status">
                    <div class="loader-ellips infinite-scroll-request">
                        <span class="loader-ellips__dot"></span>
                        <span class="loader-ellips__dot"></span>
                        <span class="loader-ellips__dot"></span>
                        <span class="loader-ellips__dot"></span>
                    </div>
                </div>
            </div>

        </section>



    </div>

</main>
<!-- Main Layout -->


<div class="modal fade" id="myImgModal" tabindex="-1" role="dialog"  aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">

            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
            </button>

            <div class="modal-body p-2 m-auto">
                <img id="mimg" alt="Modal Image" src="~/images/raleigh-durham-wedding-photography-header-1.jpg">
            </div>
        </div>
    </div>
</div>


<script>
    //Scroll button on enter
   //$("#mainbtn").click(function () {
   //    $("html,body").animate({ scrollTop: $('#intro').prop("scrollHeight") }, 1000);
   //});

    $("#mainbtn").click(function () {
        $("html,body").animate({ scrollTop: $('#carouselExampleIndicators').prop("scrollHeight") }, 1000);
    });

    


    //-------------------------------------//
    // init Masonry

    var $grid = $('.grid').masonry({
        itemSelector: 'none', // select none at first
        columnWidth: '.grid-sizer',
        //gutter: '.grid-gutter-sizer',
        percentPosition: true,
        // nicer reveal transition
        visibleStyle: { transform: 'translateY(0)', opacity: 1 },
        hiddenStyle: { transform: 'translateY(100px)', opacity: 0 }
    });

    //get Masonry instance
    var msnry = $grid.data('masonry');

    // initial items reveal
    $grid.imagesLoaded(function () {
        $grid.removeClass('are-images-unloaded');
        $grid.masonry('option', { itemSelector: '.grid-item' });
        var $items = $grid.find('.grid-item');
        $grid.masonry('appended', $items);
    });


    var nextPage = [
        '/Portpages/1',
        '/Portpages/2',
        '/PortPages/3',
        '/PortPages/4',
        '/PortPages/5',
        '/PortPages/6',
        '/PortPages/7',
        '/PortPages/8',
        '/PortPages/9',
        '/PortPages/10',
        '/PortPages/11',
        '/PortPages/12',
        '/PortPages/13',
        '/PortPages/14',
        '/PortPages/15',
        '/PortPages/16',
        '/PortPages/17',
        '/PortPages/18',
        '/PortPages/19',
        '/PortPages/20',
        '/PortPages/21',
        '/PortPages/22'
    ];

    function getNextPage() {
        var page = nextPage[this.loadCount];
        if (page) {
            return page;
        }
    }

    //-------------------------------------//
    // init Infinte Scroll

    $grid.infiniteScroll({
        path: getNextPage,
        history: false,
        append: '.grid-item',
        outlayer: msnry,
        status: '.page-load-status',
    });

    // Add Modal to newly show images.
    $grid.on('append.infiniteScroll', function (event, response, path, items) {
        $('.modalClick').on('click', function () {
            var sr = $(this).attr('src');
            $('#mimg').attr('src', sr);
            $('#myImgModal').modal('show');
        });

    });

</script>

<script>
    var $item = $('.carousel-item');
    var $wHeight = $(window).height();
    $item.eq(0).addClass('active');
    $item.height($wHeight);
    $item.addClass('full-screen');

    $('.carousel img').each(function () {
        var $src = $(this).attr('src');
        var $color = $(this).attr('data-color');
        $(this).parent().css({
            'background-image': 'url(' + $src + ')',
            'background-color': $color
        });
        $(this).remove();
    });

    $(window).on('resize', function () {
        $wHeight = $(window).height();
        $item.height($wHeight);
    });

    $('.carousel').carousel({
        interval: 3500,
        pause: "false"
    });
</script>